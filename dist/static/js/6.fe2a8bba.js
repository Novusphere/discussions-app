(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{1313:function(e,t,n){"use strict";n.r(t),n.d(t,"makeSignatureProvider",(function(){return f})),n.d(t,"scatterWalletProvider",(function(){return p}));var r,u=n(1353),o=n.n(u),i=n(1418),a=n.n(i),c=function(){return(c=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var u in t=arguments[n])Object.prototype.hasOwnProperty.call(t,u)&&(e[u]=t[u]);return e}).apply(this,arguments)},s=function(e,t,n,r){return new(n||(n=Promise))((function(u,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?u(e.value):new n((function(t){t(e.value)})).then(i,a)}c((r=r.apply(e,t||[])).next())}))},l=function(e,t){var n,r,u,o,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(u=2&o[0]?r.return:o[0]?r.throw||((u=r.return)&&u.call(r),0):r.next)&&!(u=u.call(r,o[1])).done)return u;switch(r=0,u&&(o=[2&o[0],u.value]),o[0]){case 0:case 1:u=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(u=(u=i.trys).length>0&&u[u.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!u||o[1]>u[0]&&o[1]<u[3])){i.label=o[1];break}if(6===o[0]&&i.label<u[1]){i.label=u[1],u=o;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(o);break}u[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=u=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},d=o.a.scatter;function f(e){return d.eosHook(c({},e,{blockchain:"eos"}),null,!0)}function p(){return function(e){return{id:"scatter",meta:{name:"Scatter Desktop",shortName:"Scatter",description:"Scatter Desktop application that keeps your private keys secure"},signatureProvider:f(e),connect:function(e){return d.connect(e,{initTimeout:1e4}).then((function(e){return!!e||Promise.reject("Cannot connect to Scatter")}))},discover:function(e){return new Promise((function(e,t){e({keys:[],note:"Scatter does not support discovery"})}))},disconnect:function(){return d.disconnect(),Promise.resolve(!0)},login:function(t){return s(this,void 0,void 0,(function(){var t,n,u;return l(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,d.suggestNetwork(c({},e,{blockchain:"eos"}))];case 1:return o.sent(),[4,d.getIdentity({accounts:[c({},e,{blockchain:"eos"})]})];case 2:return(t=o.sent())?(n=t&&t.accounts&&t.accounts.find((function(e){return"eos"===e.blockchain}))||void 0)?(r=n.publicKey,[2,{accountName:n.name,permission:n.authority,publicKey:r}]):[2,Promise.reject("No account data obtained from Scatter identity")]:[2,Promise.reject("No identity obtained from Scatter")];case 3:return u=o.sent(),console.log("[scatter]",u),[2,Promise.reject(u)];case 4:return[2]}}))}))},logout:function(e){return d.forgetIdentity()},signArbitrary:function(e,t){return d.getArbitrarySignature(r,e,t)}}}}d.loadPlugin(new a.a),t.default=p},1331:function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}}},1336:function(e,t){e.exports=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}},1337:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WALLET_SUPPORT=t.BLOCKCHAIN_SUPPORT=void 0;t.BLOCKCHAIN_SUPPORT="blockchain_support";t.WALLET_SUPPORT="wallet_support"},1338:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BlockchainsArray=t.Blockchains=void 0;var r={EOS:"eos",ETH:"eth",TRX:"trx"};t.Blockchains=r;var u=Object.keys(r).map((function(e){return{key:e,value:r[e]}}));t.BlockchainsArray=u},1353:function(e,t,n){"use strict";var r=n(1336),u=n(1331);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"SocketService",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"Plugin",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"Blockchains",{enumerable:!0,get:function(){return p.Blockchains}}),Object.defineProperty(t,"Network",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(t,"WalletInterface",{enumerable:!0,get:function(){return v.default}}),Object.defineProperty(t,"WALLET_METHODS",{enumerable:!0,get:function(){return v.WALLET_METHODS}}),t.PluginTypes=t.default=t.EVENTS=void 0;var o=u(n(2)),i=u(n(4)),a=u(n(29)),c=u(n(34)),s=u(n(1409)),l=u(n(1354)),d=u(n(1355)),f=r(n(1337));t.PluginTypes=f;var p=n(1338),h=u(n(1415)),v=r(n(1372)),y=u(n(1416)),g=u(n(1417)),k=u(n(1371)),w={Disconnected:"dced",LoggedOut:"logout"};t.EVENTS=w;l.default;var m=[],b={},P=function(){function e(){(0,a.default)(this,e),this.identity=null,this.network=null,s.default.loadPlugin(new y.default(this,b)),s.default.loadPlugin(new g.default(this,b))}return(0,c.default)(e,[{key:"loadPlugin",value:function(e){if(!e.isValid())throw new Error("".concat(e.name," doesn't seem to be a valid ScatterJS plugin."));s.default.loadPlugin(e),e.type===f.BLOCKCHAIN_SUPPORT&&(this[e.name]=e.signatureProvider((function(){if(!b.get().identity)throw new Error("No Identity")}),(function(){return b.get().identity})),this[e.name+"Hook"]=e.hookProvider,m.push(e.setSocketService)),e.type===f.WALLET_SUPPORT&&e.init(this,b,m)}},{key:"connect",value:function(){var e=(0,i.default)(o.default.mark((function e(t,n){var r;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n||(n={}),this.network=n.hasOwnProperty("network")?n.network:null,r=s.default.wallets(),e.next=5,Promise.race(r.map((function(e){return e.connect(t,n).then((0,i.default)(o.default.mark((function t(){return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("function"!=typeof e.runBeforeInterfacing){t.next=3;break}return t.next=3,e.runBeforeInterfacing();case 3:if(new v.default(e.name,e.methods(),b.get()),"function"!=typeof e.runAfterInterfacing){t.next=7;break}return t.next=7,e.runAfterInterfacing();case 7:return v.default.bindBasics(b.get()),t.abrupt("return",!0);case 9:case"end":return t.stop()}}),t,this)}))))})).concat(new Promise((function(e){return setTimeout((function(){return e(!1)}),n.initTimeout||5e3)}))));case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),S=new Proxy(new(function(){function e(t){(0,a.default)(this,e),this.scatter=t}return(0,c.default)(e,[{key:"plugins",value:function(){var e=this;if(!this.scatter.isExtension){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];n.map((function(t){return e.scatter.loadPlugin(t)}))}}},{key:"connect",value:function(){var e;return(e=this.scatter).connect.apply(e,arguments)}},{key:"catchAll",value:function(){}}]),e}())(new P),{get:function(e,t){return void 0===e[t]?e.scatter[t]:e[t]}});b.set=function(e){return S.scatter=e},b.get=function(){return S.scatter},"undefined"!=typeof window&&(window.ScatterJS=S),S.Plugin=d.default,S.PluginTypes=f,S.Blockchains=p.Blockchains,S.Network=h.default,S.Token=k.default,S.SocketService=l.default,S.EVENTS=w,S.WalletInterface=v.default,S.WALLET_METHODS=v.WALLET_METHODS;var T=S;t.default=T},1354:function(e,t,n){"use strict";var r=n(1331);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u,o=r(n(2)),i=r(n(742)),a=r(n(16)),c=r(n(4)),s=r(n(29)),l=r(n(34)),d=r(n(1410)),f=r(n(1411)),p=r(n(134)),h=r(n(1414)),v="/socket.io/?EIO=3&transport=websocket",y=null,g=!1,k=!1,w=[],m=function(e){return(0,p.default)("sha256").update(e).digest("hex")},b=function(){var e=new Uint8Array(24);return(0,f.default)(e),e.join("")},P=function(){var e;return"www."===(e="undefined"==typeof location?u:location.hasOwnProperty("hostname")&&location.hostname.length&&"localhost"!==location.hostname?location.hostname:u).substr(0,4)&&(e=e.replace("www.","")),e},S=d.default.getAppKey();S||(S="appkey:"+b());var T=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;null===e&&null===t?y.send("40/scatter"):y.send("42/scatter,"+JSON.stringify([e,t]))},E=null,O=function(){var e=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0];return new Promise((function(t,n){E={resolve:t,reject:n},T("pair",{data:{appkey:S,origin:P(),passthrough:e},plugin:u})}))},A={},L=function(){function e(){(0,s.default)(this,e)}return(0,l.default)(e,null,[{key:"init",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:6e4;u=e,this.timeout=t}},{key:"getOrigin",value:function(){return P()}},{key:"addEventHandler",value:function(e,t){t||(t="app"),A[t]=e}},{key:"removeEventHandler",value:function(e){e||(e="app"),delete A[e]}},{key:"link",value:function(){var e=this;return Promise.race([new Promise((function(t){return setTimeout((function(){g||(t(!1),y&&(y.disconnect(),y=null))}),e.timeout)})),new Promise(function(){var e=(0,c.default)(o.default.mark((function e(t){var n,r;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=function(){y.onmessage=function(u){if(-1===u.data.indexOf("42/scatter"))return!1;var o=JSON.parse(u.data.replace("42/scatter,","")),i=(0,a.default)(o,2),c=i[0],s=i[1];return"paired"===c?e(s):"rekey"===c?t():"api"===c?n(s):"event"===c?r(s):void 0};var e=function(e){if(k=e){var t=d.default.getAppKey(),n=-1<S.indexOf("appkey:")?m(S):S;t&&t===n||(d.default.setAppKey(n),S=d.default.getAppKey())}E.resolve(e)},t=function(){S="appkey:"+b(),T("rekeyed",{data:{appkey:S,origin:P()},plugin:u})},n=function(e){var t=w.find((function(t){return t.id===e.id}));t&&(w=w.filter((function(t){return t.id!==e.id})),"object"===(0,i.default)(e.result)&&null!==e.result&&e.result.hasOwnProperty("isError")?t.reject(e.result):t.resolve(e.result))},r=function(e){var t=e.event,n=e.payload;Object.keys(A).length&&Object.keys(A).map((function(e){A[e](t,n)}))}},r=function(){var e,u=!(0<arguments.length&&void 0!==arguments[0])||arguments[0],o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;o||(e=new Promise((function(e){return o=e})));var i=u?"local.get-scatter.com:50006":"127.0.0.1:50005",a=u?"wss://":"ws://",c="".concat(a).concat(i).concat(v),s=new h.default(c);return s.onerror=function(){u?r(!1,o):(t(!1),o(!1))},s.onopen=function(){y=s,T(),clearTimeout(null),g=!0,O(!0).then((function(){t(!0),o(!0)})),n()},e},e.next=4,r();case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}())])}},{key:"isConnected",value:function(){return g}},{key:"isPaired",value:function(){return k}},{key:"disconnect",value:function(){return y&&y.close(),!0}},{key:"removeAppKeys",value:function(){d.default.removeAppKey(),d.default.removeNonce()}},{key:"sendApiRequest",value:function(e){return new Promise((function(t,n){return"identityFromPermissions"!==e.type||k?void O().then((function(){if(!k)return n({code:"not_paired",message:"The user did not allow this app to connect to their Scatter"});e.id=b(),e.appkey=S,e.nonce=d.default.getNonce()||0;var r=b();e.nextNonce=m(r),d.default.setNonce(r),e.hasOwnProperty("payload")&&!e.payload.hasOwnProperty("origin")&&(e.payload.origin=P()),w.push(Object.assign(e,{resolve:t,reject:n})),T("api",{data:e,plugin:u})})):t(!1)}))}}]),e}();t.default=L},1355:function(e,t,n){"use strict";var r=n(1336),u=n(1331);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=u(n(29)),i=u(n(34)),a=r(n(1337)),c=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"";(0,o.default)(this,e),this.name=t,this.type=n}return(0,i.default)(e,[{key:"isSignatureProvider",value:function(){return this.type===a.BLOCKCHAIN_SUPPORT}},{key:"isValid",value:function(){return Object.keys(a).map((function(e){return a[e]})).includes(this.type)}}],[{key:"placeholder",value:function(){return new e}},{key:"fromJson",value:function(t){return Object.assign(e.placeholder(),t)}}]),e}();t.default=c},1371:function(e,t,n){"use strict";var r=n(1331);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u=r(n(29)),o=r(n(34)),i=n(1338),a=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:i.Blockchains.EOS,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"",o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null,a=4<arguments.length&&void 0!==arguments[4]?arguments[4]:null;(0,u.default)(this,e),this.blockchain=t,this.contract=n,this.symbol=r,this.name=o||r,this.decimals=a}return(0,o.default)(e,null,[{key:"placeholder",value:function(){return new e}},{key:"fromJson",value:function(e){return Object.assign(this.placeholder(),e)}}]),e}();t.default=a},1372:function(e,t,n){"use strict";var r=n(1331);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.WALLET_METHODS=void 0;var u,o=r(n(29)),i=r(n(34)),a=r(n(43)),c={disconnect:"disconnect",isConnected:"isConnected",isPaired:"isPaired",addEventHandler:"addEventHandler",removeEventHandler:"removeEventHandler",listen:"listen",getVersion:"getVersion",getIdentity:"getIdentity",getIdentityFromPermissions:"getIdentityFromPermissions",forgetIdentity:"forgetIdentity",updateIdentity:"updateIdentity",authenticate:"authenticate",getArbitrarySignature:"getArbitrarySignature",getPublicKey:"getPublicKey",linkAccount:"linkAccount",hasAccountFor:"hasAccountFor",suggestNetwork:"suggestNetwork",requestTransfer:"requestTransfer",requestSignature:"requestSignature",createTransaction:"createTransaction",addToken:"addToken"};t.WALLET_METHODS=c;var s=(u={},(0,a.default)(u,c.getIdentity,"login"),(0,a.default)(u,c.forgetIdentity,"logout"),(0,a.default)(u,c.getIdentityFromPermissions,"checkLogin"),u),l=function(){function e(t,n,r){(0,o.default)(this,e);var u=function(e){return function(){throw console.error("".concat(t," does not support the ").concat(e," method.")),new Error("".concat(t," does not support the ").concat(e," method."))}};Object.keys(c).map((function(e){return function(e,t){void 0===r[t]&&(r[t]=e||u(t)),s[t]&&void 0===r[s[t]]&&(r[s[t]]=r[t]?r[t]:u(t))}(n[e],e)}))}return(0,i.default)(e,null,[{key:"bindBasics",value:function(e){e.account=function(t){return e.identity&&e.identity.accounts?e.identity.accounts.find((function(e){return e.blockchain===t})):void 0}}}]),e}();t.default=l},1409:function(e,t,n){"use strict";var r=n(1336),u=n(1331);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=u(n(2)),i=u(n(4)),a=u(n(29)),c=u(n(34)),s=r(n(1337)),l=new(function(){function e(){(0,a.default)(this,e),this.plugins=[]}return(0,c.default)(e,[{key:"loadPlugin",value:function(e){this.plugin(e.name)||this.plugins.push(e)}},{key:"wallets",value:function(){return this.plugins.filter((function(e){return e.type===s.WALLET_SUPPORT}))}},{key:"signatureProviders",value:function(){return this.plugins.filter((function(e){return e.type===s.BLOCKCHAIN_SUPPORT}))}},{key:"supportedBlockchains",value:function(){return this.signatureProviders().map((function(){return name}))}},{key:"plugin",value:function(e){return this.plugins.find((function(t){return t.name===e}))}},{key:"endorsedNetworks",value:function(){var e=(0,i.default)(o.default.mark((function e(){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(this.signatureProviders().map(function(){var e=(0,i.default)(o.default.mark((function e(t){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getEndorsedNetwork();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}());t.default=l},1410:function(e,t,n){"use strict";var r=n(1331);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u=r(n(29)),o=r(n(34)),i={},a=function(){return"undefined"==typeof window?{localStorage:{setItem:function(e,t){return i[e]=t},getItem:function(e){return i[e]||null},removeItem:function(e){return delete i[e]}}}:window},c=function(){function e(){(0,u.default)(this,e)}return(0,o.default)(e,null,[{key:"setAppKey",value:function(e){a().localStorage.setItem("appkey",e)}},{key:"getAppKey",value:function(){return a().localStorage.getItem("appkey")}},{key:"removeAppKey",value:function(){return a().localStorage.removeItem("appkey")}},{key:"setNonce",value:function(e){a().localStorage.setItem("nonce",e)}},{key:"getNonce",value:function(){return a().localStorage.getItem("nonce")}},{key:"removeNonce",value:function(){return a().localStorage.removeItem("nonce")}}]),e}();t.default=c},1411:function(e,t,n){var r=n(1412),u=n(1413);e.exports=function(e){if(r.crypto&&r.crypto.getRandomValues)return r.crypto.getRandomValues(e);if("object"==typeof r.msCrypto&&"function"==typeof r.msCrypto.getRandomValues)return r.msCrypto.getRandomValues(e);if(u.randomBytes){if(!(e instanceof Uint8Array))throw new TypeError("expected Uint8Array");if(e.length>65536){var t=new Error;throw t.code=22,t.message="Failed to execute 'getRandomValues' on 'Crypto': The ArrayBufferView's byte length ("+e.length+") exceeds the number of bytes of entropy available via this API (65536).",t.name="QuotaExceededError",t}var n=u.randomBytes(e.length);return e.set(n),e}throw new Error("No secure random number generator available.")}},1412:function(e,t,n){(function(t){var n;n="undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{},e.exports=n}).call(this,n(37))},1413:function(e,t){},1414:function(e,t,n){(function(t){var n=null;"undefined"!=typeof WebSocket?n=WebSocket:"undefined"!=typeof MozWebSocket?n=MozWebSocket:void 0!==t?n=t.WebSocket||t.MozWebSocket:"undefined"!=typeof window?n=window.WebSocket||window.MozWebSocket:"undefined"!=typeof self&&(n=self.WebSocket||self.MozWebSocket),e.exports=n}).call(this,n(37))},1415:function(e,t,n){"use strict";var r=n(1331);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u=r(n(29)),o=r(n(34)),i=n(1338),a=r(n(1371)),c=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"https",r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"",o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0,a=4<arguments.length&&void 0!==arguments[4]?arguments[4]:i.Blockchains.EOS,c=5<arguments.length&&void 0!==arguments[5]?arguments[5]:"";(0,u.default)(this,e),this.name=t,this.protocol=n,this.host=r,this.port=o,this.blockchain=a,this.chainId=c.toString(),this.token=null}return(0,o.default)(e,[{key:"fullhost",value:function(){return"".concat(this.protocol,"://").concat(this.host).concat(this.port?":":"").concat(this.port)}},{key:"unique",value:function(){return("".concat(this.blockchain,":")+(this.chainId.length?"chain:".concat(this.chainId):"".concat(this.host,":").concat(this.port))).toLowerCase()}}],[{key:"placeholder",value:function(){return new e}},{key:"fromJson",value:function(t){var n=Object.assign(e.placeholder(),t);return n.chainId=n.chainId?n.chainId.toString():"",n.token=t.hasOwnProperty("token")&&t.token?a.default.fromJson(t.token):null,n}}]),e}();t.default=c},1416:function(e,t,n){"use strict";var r=n(1336),u=n(1331);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=u(n(43)),i=u(n(2)),a=u(n(4)),c=u(n(29)),s=u(n(34)),l=u(n(106)),d=u(n(107)),f=u(n(108)),p=u(n(1355)),h=n(1338),v=r(n(1337)),y=u(n(1354)),g=n(1353),k=function(e){function t(e,n){var r;return(0,c.default)(this,t),(r=(0,l.default)(this,(0,d.default)(t).call(this,h.Blockchains.EOS,v.WALLET_SUPPORT))).name="ScatterSockets",r.context=e,r.holderFns=n,r}return(0,f.default)(t,e),(0,s.default)(t,[{key:"connect",value:function(e){var t=this,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(r){if(!e||!e.length)throw new Error("You must specify a name for this connection");n=Object.assign({initTimeout:1e4,linkTimeout:3e4},n),y.default.init(e,n.linkTimeout),y.default.link().then(function(){var e=(0,a.default)(i.default.mark((function e(n){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",!1);case 2:return t.holderFns.get().isExtension=!1,t.holderFns.get().wallet||(t.holderFns.get().wallet=t.name),e.abrupt("return",r(!0));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}())}))}},{key:"runAfterInterfacing",value:function(){var e=(0,a.default)(i.default.mark((function e(){var t=this;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.holderFns.get().addEventHandler((function(e,n){return t.eventHandler(e,n)}),"internal"),e.next=3,this.holderFns.get().getIdentityFromPermissions();case 3:return this.holderFns.get().identity=e.sent,e.abrupt("return",!0);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"methods",value:function(){var e,t=this,n=function(e,n){return(e||n)&&(t.holderFns.get().identity=e),n||e};return e={},(0,o.default)(e,g.WALLET_METHODS.disconnect,(function(){return y.default.disconnect()})),(0,o.default)(e,g.WALLET_METHODS.isConnected,(function(){return y.default.isConnected()})),(0,o.default)(e,g.WALLET_METHODS.isPaired,(function(){return y.default.isPaired()})),(0,o.default)(e,g.WALLET_METHODS.addEventHandler,(function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;return y.default.addEventHandler(e,t)})),(0,o.default)(e,g.WALLET_METHODS.removeEventHandler,(function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;return y.default.removeEventHandler(e)})),(0,o.default)(e,g.WALLET_METHODS.listen,(function(e){return y.default.addEventHandler(e)})),(0,o.default)(e,g.WALLET_METHODS.getVersion,(function(){return y.default.sendApiRequest({type:"getVersion",payload:{}})})),(0,o.default)(e,g.WALLET_METHODS.getIdentity,(function(e){return y.default.sendApiRequest({type:"getOrRequestIdentity",payload:{fields:e||{accounts:[t.holderFns.get().network]}}}).then(n)})),(0,o.default)(e,g.WALLET_METHODS.getIdentityFromPermissions,(function(){return y.default.sendApiRequest({type:"identityFromPermissions",payload:{}}).then(n)})),(0,o.default)(e,g.WALLET_METHODS.forgetIdentity,(function(){return y.default.sendApiRequest({type:"forgetIdentity",payload:{}}).then((function(e){return n(null,e)}))})),(0,o.default)(e,g.WALLET_METHODS.updateIdentity,(function(e){var t=e.name,r=e.kyc;return y.default.sendApiRequest({type:"updateIdentity",payload:{name:t,kyc:r}}).then((function(e){return e?n(e):null}))})),(0,o.default)(e,g.WALLET_METHODS.authenticate,(function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;return y.default.sendApiRequest({type:"authenticate",payload:{nonce:e,data:t,publicKey:n}})})),(0,o.default)(e,g.WALLET_METHODS.getArbitrarySignature,(function(e,t){return y.default.sendApiRequest({type:"requestArbitrarySignature",payload:{publicKey:e,data:t}})})),(0,o.default)(e,g.WALLET_METHODS.getPublicKey,(function(e){return y.default.sendApiRequest({type:"getPublicKey",payload:{blockchain:e}})})),(0,o.default)(e,g.WALLET_METHODS.linkAccount,(function(e,n){return y.default.sendApiRequest({type:"linkAccount",payload:{account:e,network:n||t.holderFns.get().network}})})),(0,o.default)(e,g.WALLET_METHODS.hasAccountFor,(function(e){return y.default.sendApiRequest({type:"hasAccountFor",payload:{network:e||t.holderFns.get().network}})})),(0,o.default)(e,g.WALLET_METHODS.suggestNetwork,(function(e){return y.default.sendApiRequest({type:"requestAddNetwork",payload:{network:e||t.holderFns.get().network}})})),(0,o.default)(e,g.WALLET_METHODS.requestTransfer,(function(e,n,r){var u=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};return y.default.sendApiRequest({type:"requestTransfer",payload:{network:e||t.holderFns.get().network,to:n,amount:r,options:u}})})),(0,o.default)(e,g.WALLET_METHODS.requestSignature,(function(e){return y.default.sendApiRequest({type:"requestSignature",payload:e})})),(0,o.default)(e,g.WALLET_METHODS.createTransaction,(function(e,n,r,u){return y.default.sendApiRequest({type:"createTransaction",payload:{blockchain:e,actions:n,account:r,network:u||t.holderFns.get().network}})})),(0,o.default)(e,g.WALLET_METHODS.addToken,(function(e,n){return y.default.sendApiRequest({type:"addToken",payload:{token:e,network:n||t.holderFns.get().network}})})),e}},{key:"eventHandler",value:function(){var e=(0,a.default)(i.default.mark((function e(t){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t,e.next=e.t0===g.EVENTS.Disconnected?3:e.t0===g.EVENTS.LoggedOut?5:9;break;case 3:return this.holderFns.get().identity=null,e.abrupt("break",9);case 5:return e.next=7,this.holderFns.get().getIdentityFromPermissions();case 7:return this.holderFns.get().identity=e.sent,e.abrupt("break",9);case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),t}(p.default);t.default=k},1417:function(e,t,n){"use strict";var r=n(1336),u=n(1331);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=u(n(43)),i=u(n(29)),a=u(n(34)),c=u(n(106)),s=u(n(107)),l=u(n(108)),d=u(n(2)),f=u(n(4)),p=r(n(1337)),h=u(n(1355)),v=n(1338),y=r(n(1372)),g=(u(n(1354)),!1);"undefined"!=typeof window&&"undefined"!=typeof document&&(void 0===window.scatter?document.addEventListener("scatterLoaded",(function(){return g=!0})):g=!0);var k=function(){var e=(0,f.default)(d.default.mark((function e(){var t,n,r=arguments;return d.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=0<r.length&&void 0!==r[0]?r[0]:null,n=1<r.length&&void 0!==r[1]?r[1]:0,e.abrupt("return",new Promise((function(e){return t||(t=e),g?t(!0):5<n?t(!1):void setTimeout((function(){return k(t,n+1)}),100)})));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),w=function(e){function t(e,n){var r;return(0,i.default)(this,t),(r=(0,c.default)(this,(0,s.default)(t).call(this,v.Blockchains.EOS,p.WALLET_SUPPORT))).name="ScatterExtension",r.context=e,r.holderFns=n,r}return(0,l.default)(t,e),(0,a.default)(t,[{key:"connect",value:function(){var e=(0,f.default)(d.default.mark((function e(){var t=this;return d.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=(0,f.default)(d.default.mark((function e(n){return d.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k();case 2:e.sent&&(!t.holderFns.get().wallet&&(t.holderFns.get().wallet=t.name),n(!0));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"runBeforeInterfacing",value:function(){var e=(0,f.default)(d.default.mark((function e(){var t,n,r,u,o=this;return d.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=this.context.network)&&(n=window.scatter.getIdentity.bind(window.scatter),r=window.scatter.useIdentity.bind(window.scatter),window.scatter.getIdentity=function(e){return n(e||{accounts:[t]}).then((function(e){return o.holderFns.get().identity=e,r(e),e}))},u=window.scatter.suggestNetwork.bind(window.scatter),window.scatter.suggestNetwork=function(e){return u(e||t)}),this.holderFns.get().wallet===this.name&&(window.scatter.wallet=this.name),this.holderFns.set(window.scatter),this.context=this.holderFns.get(),e.abrupt("return",!0);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"runAfterInterfacing",value:function(){var e=(0,f.default)(d.default.mark((function e(){return d.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.context.isExtension=!0,this.context.connect=this.connect,e.abrupt("return",!0);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"methods",value:function(){return(0,o.default)({},y.WALLET_METHODS.getIdentity,(function(){console.log("getid")}))}}]),t}(h.default);t.default=w},1418:function(e,t,n){"use strict";(function(e){var r=n(1331);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u=r(n(2)),o=r(n(4)),i=r(n(29)),a=r(n(34)),c=r(n(106)),s=r(n(107)),l=r(n(108)),d=n(1353),f=d.SocketService,p=function(e,t){return new Proxy(e,t)},h=function(t){function n(){return(0,i.default)(this,n),(0,c.default)(this,(0,s.default)(n).call(this,d.Blockchains.EOS,d.PluginTypes.BLOCKCHAIN_SUPPORT))}return(0,l.default)(n,t),(0,a.default)(n,[{key:"setSocketService",value:function(e){f=e}},{key:"hookProvider",value:function(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,r=!!(2<arguments.length&&void 0!==arguments[2])&&arguments[2];return t=d.Network.fromJson(t),{requiredFields:{},getAvailableKeys:function(){var e=(0,o.default)(u.default.mark((function e(){return u.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.sendApiRequest({type:"identityFromPermissions",payload:{}}).then((function(e){return e?e.accounts.filter((function(e){return e.blockchain===d.Blockchains.EOS})).map((function(e){return e.publicKey})):[]}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),sign:function(){var i=(0,o.default)(u.default.mark((function i(a){var c;return u.default.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return c=n?n():{},a.serializedTransaction=e.from(a.serializedTransaction).toString("hex"),i.abrupt("return",new Promise(function(){var n=(0,o.default)(u.default.mark((function n(o,i){return u.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:f.sendApiRequest({type:"requestSignature",payload:{transaction:a,blockchain:d.Blockchains.EOS,network:t,requiredFields:c}}).then((function(t){return r?void o({signatures:t.signatures,serializedTransaction:e.from(a.serializedTransaction,"hex")}):o(t.signatures)})).catch((function(e){return i(e)}));case 1:case"end":return n.stop()}}),n,this)})));return function(){return n.apply(this,arguments)}}()));case 3:case"end":return i.stop()}}),i,this)})));return function(){return i.apply(this,arguments)}}()}}},{key:"signatureProvider",value:function(){var e=this;0>=arguments.length||arguments[0];return function(t,n){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};t=d.Network.fromJson(t);var u={},o=function(){return u},i=e.hookProvider(t,o,r.beta3||!1);return p(new n(Object.assign(r,{signatureProvider:i})),{get:function(e,t){return function(){if(void 0===e[t])throw new Error("".concat(t," does not exist on the eosjs.Api() object."));for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];var i=r.find((function(e){return e.hasOwnProperty("requiredFields")}));return u=i?i.requiredFields:{},e[t].apply(e,r)}}})}}}]),n}(d.Plugin);t.default=h,"undefined"!=typeof window&&(window.ScatterEOS=h)}).call(this,n(19).Buffer)}}]);