(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{1550:function(e,t,a){"use strict";a.r(t);var n=a(26),l=a.n(n),o=a(16),r=a.n(o),s=a(0),c=a.n(s),i=a(22),m=a(25),u=a(1327),d=a(162),f=a(1330),p=a(10),b=a(298),g=a(217),E=a(70),v=a(1324),w=a(11),h=a(222),N=a(12),y=a(1332),O=a.n(y),k=a(90),j=u.a.Paragraph,F=d.a.Option,S=function(e){var t=e.onModerationChange,a=e.defaultValue,n=e.options,l=e.tagModelFromObservables;return Object(i.e)((function(){return c.a.createElement(d.a,{mode:"tags",size:"default",showSearch:!0,className:"w-100",placeholder:"Select a tag to assign as moderator",onChange:t,defaultValue:a},n.map((function(e){var t=l(e.value);return t?c.a.createElement(F,{key:e.value,value:e.value},c.a.createElement("img",{src:t.logo,title:"".concat(t.name," icon"),className:"mr2 dib",width:15}),e.label):null})))}))},M=function(e){var t=e.data,a=e.handleRemoveUser;return t&&t.length?c.a.createElement(f.a,{dataSource:t,renderItem:function(e){var t=r()(e,2),n=t[0],l=t[1];return c.a.createElement(f.a.Item,{actions:[c.a.createElement(p.a,{onClick:function(){return a(n,l)},className:"dim pointer",type:"delete",theme:"filled",style:{color:"#FF4136"}})]},l)}}):c.a.createElement("span",{className:"f6 light-silver db pt2"},"You are not following anyone")};t.default=Object(i.c)((function(){var e=Object(m.c)(),t=e.uiStore,a=e.postsStore,n=e.userStore,o=e.authStore,i=e.tagStore,u=Object(s.useState)(0),d=r()(u,2),f=d[0],y=d[1],F=Object(k.h)(),U=Object(s.useState)(""),C=r()(U,2),x=C[0],P=C[1],I=Object(s.useState)(""),V=r()(I,2),z=V[0],A=V[1],B=Object(s.useState)(""),J=r()(B,2),K=J[0],D=J[1],H=Object(s.useMemo)((function(){return o.postPub}),[]);Object(s.useEffect)((function(){t.setSidebarHidden(!0);var e=F.username;if(e){var n=e.split("-"),l=r()(n,2),o=l[0],s=l[1];P(o),A(s),D(Object(w.j)(s)),N.b.getUser(s).then((function(e){var t=e.followers,n=e.displayName;P(n),y(t),a.resetPostsAndPosition(),a.getPostsForKeys(H,[s])}))}return function(){t.setSidebarHidden(!1)}}),[H]);var R=Object(s.useCallback)((function(){n.toggleUserFollowing(x,z),n.following.has(z)?y(f+1):y(f-1)}),[f]),T=Object(s.useMemo)((function(){return x==o.displayName}),[x]),W=c.a.createElement(b.a,null,c.a.createElement(b.a.Item,null,c.a.createElement("a",{className:"flex flex-row items-center",target:"_blank",rel:"noopener noreferrer",onClick:function(){return n.toggleBlockUser(x,z)}},c.a.createElement(p.a,{type:"delete",className:"mr2",theme:"twoTone",twoToneColor:"#E7040F"}),n.blockedUsers.has(z)?"Unblock":"Block"," ",x))),L=Object(s.useCallback)((function(e){return n.setModerationFromDropdown(x,z,e)}),[]);return a.getPostsForKeys.pending?c.a.createElement(p.a,{type:"loading"}):c.a.createElement(c.a.Fragment,null,c.a.createElement(O.a,null,c.a.createElement("title",null,"Discussions App - /u/".concat(x))),c.a.createElement("div",{className:"flex flex-row"},c.a.createElement("div",{className:"w-30 vh-75 bg-white card pa3"},c.a.createElement("div",{className:"flex flex-row items-center"},c.a.createElement(v.a,{icon:"user",src:K,size:96}),c.a.createElement("div",{className:"fl ml3"},c.a.createElement("span",{className:"db f5 b black"},x),c.a.createElement("span",{className:"db f6 light-silver"},f," followers"),!T&&o.hasAccount&&c.a.createElement("div",{className:"mt2 flex flex-row items-center"},c.a.createElement(E.a,{block:!0,size:"default",type:"primary",onClick:R},n.following.has(z)?"Unfollow":"Follow"),c.a.createElement((function(){return c.a.createElement(g.a,{key:"more",overlay:W},c.a.createElement(E.a,{size:"default",title:"View more options",className:"ml3"},c.a.createElement(h.j.VerticalEllipsisIcon,null)))}),{key:"more"})))),c.a.createElement("div",{className:"mt4"},c.a.createElement("span",{className:"moon-gray ttu f6"},"Wallet"),c.a.createElement(j,{ellipsis:!0,copyable:!0,className:"f6 pt2 w-80"},z)),T&&c.a.createElement("div",{className:"mt4"},c.a.createElement("span",{className:"moon-gray ttu f6"},"Following Users (Only visible to you)"),c.a.createElement(M,{data:l()(n.following.toJS()),handleRemoveUser:function(e,t){return n.toggleUserFollowing(t,e)}})),!T&&o.hasAccount&&c.a.createElement("div",{className:"mt4"},c.a.createElement("span",{className:"moon-gray ttu f6 mb2"},"Moderation"),c.a.createElement(S,{onModerationChange:L,defaultValue:n.activeModerationForCurrentUser(x,z),options:i.tagsWithoutBaseOptions,tagModelFromObservables:i.tagModelFromObservables}))),c.a.createElement("div",{className:"fl ml3 w-70"},c.a.createElement(h.k,{dataLength:a.postsPosition.items,hasMore:0!==a.postsPosition.cursorId,next:function(){return a.getPostsForKeys(H,[z])},posts:a.posts}))))}))}}]);