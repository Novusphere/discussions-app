(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{"4fRq":function(t,n){var e="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(e){var r=new Uint8Array(16);t.exports=function(){return e(r),r}}else{var o=new Array(16);t.exports=function(){for(var t,n=0;n<16;n++)0===(3&n)&&(t=4294967296*Math.random()),o[n]=t>>>((3&n)<<3)&255;return o}}},AAgb:function(t,n,e){"use strict";e.r(n);var r=e("CSbn");function o(t){var n=t,e=[];return{getState:function(){return n},updateState:function(t){n="function"===typeof t?t(n):t;for(var r=0,o=e;r<o.length;r++){(0,o[r])(n)}},subscribe:function(t){return e.push(t),function(){e=e.filter(function(n){return n!==t})}}}}var c=e("xk4V"),u=e.n(c);function i(t,n){return void 0===n&&(n="Error"),t?"string"===typeof t?t:t.message||n:n}var a=function(){return(a=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++)for(var o in n=arguments[e])Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o]);return t}).apply(this,arguments)},s=function(t,n,e,r){return new(e||(e=Promise))(function(o,c){function u(t){try{a(r.next(t))}catch(n){c(n)}}function i(t){try{a(r.throw(t))}catch(n){c(n)}}function a(t){t.done?o(t.value):new e(function(n){n(t.value)}).then(u,i)}a((r=r.apply(t,n||[])).next())})},f=function(t,n){var e,r,o,c,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return c={next:i(0),throw:i(1),return:i(2)},"function"===typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function i(c){return function(i){return function(c){if(e)throw new TypeError("Generator is already executing.");for(;u;)try{if(e=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return u.label++,{value:c[1],done:!1};case 5:u.label++,r=c[1],c=[0];continue;case 7:c=u.ops.pop(),u.trys.pop();continue;default:if(!(o=(o=u.trys).length>0&&o[o.length-1])&&(6===c[0]||2===c[0])){u=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){u.label=c[1];break}if(6===c[0]&&u.label<o[1]){u.label=o[1],o=c;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(c);break}o[2]&&u.ops.pop(),u.trys.pop();continue}c=n.call(t,u)}catch(i){c=[6,i],r=0}finally{e=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,i])}}},l={connecting:!1,connected:!1,connectionError:!1,connectionErrorMessage:void 0,auth:void 0,authenticating:!1,authenticated:!1,authenticationConfirmed:!1,authenticationError:!1,authenticationErrorMessage:void 0,accountInfo:void 0,accountFetching:!1,accountFetchError:!1,accountFetchErrorMessage:void 0};function h(t,n){var e=u()(),c=o(a({},l)),h={keyToAccountMap:[]},d=c.getState,p=new r.Api({rpc:n.eosRpc,chainId:n.network.chainId,signatureProvider:t.signatureProvider});function g(t){return t?(c.updateState(function(t){return a({},t,{accountFetching:!0,accountFetchError:!1,accountFetchErrorMessage:void 0})}),n.eosRpc.get_account(t).then(function(t){var n=a({},t);return c.updateState(function(t){return a({},t,{accountFetching:!1,accountInfo:n})}),n}).catch(function(t){return c.updateState(function(n){return a({},n,{accountFetching:!1,accountInfo:void 0,accountFetchError:!0,accountFetchErrorMessage:i(t)})}),Promise.reject(t)})):Promise.reject("No `accountName` was passed in order to fetch the account info")}function v(){return t.disconnect().then(function(){return c.updateState(function(t){return a({},t,{connecting:!1,connected:!1,connectionError:!1,connectionErrorMessage:void 0})}),!0})}function y(){return t.logout().then(function(){return c.updateState(function(t){return a({},t,{accountInfo:void 0,authenticating:!1,authenticated:!1,authenticationError:!1,authenticationErrorMessage:void 0})}),!0})}var w={_instanceId:e,ctx:n,provider:t,eosApi:p,get state(){return d()||a({},l)},get auth(){var t=d();return t&&t.auth||void 0},get accountInfo(){var t=d();return t&&t.accountInfo||void 0},get connected(){var t=d();return t&&t.connected||!1},get authenticated(){var t=d();return t&&t.authenticated||!1},get inProgress(){var t=d();if(!t)return!1;var n=t.connecting,e=t.authenticating,r=t.accountFetching;return!!(n||e||r)},get active(){var t=d();if(!t)return!1;var n=t.connected,e=t.authenticated,r=t.accountInfo;return!!(n&&e&&r)},get hasError(){var t=d();if(!t)return!1;var n=t.connectionError,e=t.authenticationError,r=t.accountFetchError;return!!(n||e||r)},get errorMessage(){var t=d();if(t&&w.hasError){var n=t.connectionErrorMessage,e=t.authenticationErrorMessage,r=t.accountFetchErrorMessage;return n||e||r||"Wallet connection error"}},connect:function(){return c.updateState(function(t){return a({},t,{connected:!1,connecting:!0,connectionError:!1,connectionErrorMessage:void 0})}),t.connect(n.appName).then(function(){return c.updateState(function(t){return a({},t,{connecting:!1,connected:!0})}),!0}).catch(function(t){return c.updateState(function(n){return a({},n,{connecting:!1,connectionError:!0,connectionErrorMessage:i(t)})}),Promise.reject(t)})},discover:function(e){return s(this,void 0,void 0,function(){var r,o=this;return f(this,function(c){switch(c.label){case 0:return r={keyToAccountMap:[]},[4,t.discover(e).then(function(t){return s(o,void 0,void 0,function(){var e,o,c,u,i,l=this;return f(this,function(d){switch(d.label){case 0:for(delete(r=a({},r,t)).keys,e=[],o=function(t){var r=t.key,o=t.index,c=!1;if(h.keyToAccountMap&&h.keyToAccountMap.findIndex(function(t){return t.index==o})>-1&&(c=!0),r&&!c){var u=n.eosRpc.history_get_key_accounts(r).then(function(t){return s(l,void 0,void 0,function(){var e,c,u,i,a,l=this;return f(this,function(h){switch(h.label){case 0:if(e={index:o,key:r,accounts:[]},!(t.account_names.length>0))return[3,4];c=function(t){return f(this,function(o){switch(o.label){case 0:return[4,n.eosRpc.get_account(t).then(function(n){return s(l,void 0,void 0,function(){var o,c,u,i,a;return f(this,function(s){for(o=0,c=n.permissions;o<c.length;o++)for(u=c[o],i=0,a=u.required_auth.keys;i<a.length;i++)a[i].key==r&&e.accounts.push({account:t,authorization:u.perm_name});return[2]})})})];case 1:return o.sent(),[2]}})},u=0,i=t.account_names,h.label=1;case 1:return u<i.length?(a=i[u],[5,c(a)]):[3,4];case 2:h.sent(),h.label=3;case 3:return u++,[3,1];case 4:return[2,e]}})})});e.push(u)}},c=0,u=t.keys;c<u.length;c++)i=u[c],o(i);return[4,Promise.all(e).then(function(t){return r.keyToAccountMap=t,Promise.resolve({accountsDataObjToMerge:r})})];case 1:return d.sent(),[2]}})})})];case 1:return c.sent(),0,0==h.keyToAccountMap.length?h=a({},h,r):r.keyToAccountMap.forEach(function(t){h.keyToAccountMap.push(t)}),[2,Promise.resolve(h)]}})})},disconnect:v,login:function(n,e){c.updateState(function(t){return a({},t,{accountInfo:void 0,authenticated:!1,authenticationConfirmed:!1,authenticating:!0,authenticationError:!1,authenticationErrorMessage:void 0})});var r=-1,o=void 0;if(h.keyToAccountMap.length>0&&(n&&e&&h.keyToAccountMap.forEach(function(t){t.accounts.find(function(t){return t.account==n&&t.authorization==e})&&(r=t.index,o=t.key)}),!o))throw"Loging was not able to determine the Key and Index for "+e+"@"+n;return t.login(n,e,r,o).then(function(t){return c.updateState(function(n){return a({},n,{auth:t,authenticated:!0,authenticating:!1})}),g(t.accountName)}).then(function(t){return c.updateState(function(n){return a({},n,{accountInfo:t})}),t}).catch(function(t){return c.updateState(function(n){return a({},n,{authenticating:!1,authenticationError:!0,authenticationErrorMessage:i(t)})}),Promise.reject(t)})},logout:y,fetchAccountInfo:g,terminate:function(){return y().then(v).then(function(){return n.detachWallet(w),!0})},subscribe:function(t){return c.subscribe(t)},signArbitrary:function(n,e){return t.signArbitrary(n,e)}};return w}var d,p={wallets:[]};function g(t){var n=t.appName,e=t.network,c=t.walletProviders.map(function(t){return t(e)}),u=o(p),i=[];function a(){for(var t=0,n=i;t<n.length;t++){(0,n[t])(d)}}var s=new Map,f=u.subscribe(a),l=function(t){var n=t.protocol,e=t.host,r=t.port;return(n||"http")+"://"+e+(r?":"+r:"")}(e),d={appName:n,eosRpc:new r.JsonRpc(l,{fetch:fetch}),network:e,initWallet:function(t){var n="string"===typeof t?function(t,n){if(t.length)return t.find(function(t){return t.id===n})}(c,t):t;if(!n)throw new Error("\n          Cannot initiate a session, invalid wallet provider\n          or wallet provider ID was passed\n        ");var e=h(n,d);return u.updateState(function(t){return{wallets:(t&&t.wallets||[]).concat([e])}}),s.set(e._instanceId,e.subscribe(a)),e},addWalletProvider:function(t){c.push(t(e))},getWalletProviders:function(){return c},getWallets:function(){var t=u.getState();return t&&t.wallets||[]},getActiveWallets:function(){return d.getWallets().filter(function(t){return t.connected&&t.authenticated})},detachWallet:function(t){u.updateState(function(n){return{wallets:(n&&n.wallets||[]).filter(function(n){return n!==t})}});var n=t._instanceId;if(s.has(n)){var e=s.get(n);"function"===typeof e&&e()}},logoutAll:function(){return Promise.all(d.getWallets().map(function(t){return t.logout()})).then(function(){return!0})},disconnectAll:function(){return Promise.all(d.getWallets().map(function(t){return t.disconnect()})).then(function(){return!0})},terminateAll:function(){return Promise.all(d.getWallets().map(function(t){return t.terminate()})).then(function(){return!0})},destroy:function(){return d.terminateAll().then(function(){f(),s.forEach(function(t){"function"===typeof t&&t()}),i=[]})},subscribe:function(t){return i=i.concat([t]),function(){i=i.filter(function(n){return n!==t})}}};return d}function v(t){return d=g(t)}e.d(n,"defaultAccessContext",function(){return d}),e.d(n,"initDefaultAccessContext",function(){return v}),e.d(n,"initWallet",function(){return h}),e.d(n,"initAccessContext",function(){return g});var y={initDefaultAccessContext:v,get accessContext(){if(!d)throw new Error("\n        No default WalletAccessContext is configured. \n        Make sure to first run 'initDefaultAccessContext' to set it up.\n      ");return d},initWallet:h};n.default=y},I2ZF:function(t,n){for(var e=[],r=0;r<256;++r)e[r]=(r+256).toString(16).substr(1);t.exports=function(t,n){var r=n||0,o=e;return[o[t[r++]],o[t[r++]],o[t[r++]],o[t[r++]],"-",o[t[r++]],o[t[r++]],"-",o[t[r++]],o[t[r++]],"-",o[t[r++]],o[t[r++]],"-",o[t[r++]],o[t[r++]],o[t[r++]],o[t[r++]],o[t[r++]],o[t[r++]]].join("")}},xk4V:function(t,n,e){var r=e("4fRq"),o=e("I2ZF");t.exports=function(t,n,e){var c=n&&e||0;"string"==typeof t&&(n="binary"===t?new Array(16):null,t=null);var u=(t=t||{}).random||(t.rng||r)();if(u[6]=15&u[6]|64,u[8]=63&u[8]|128,n)for(var i=0;i<16;++i)n[c+i]=u[i];return n||o(u)}}}]);