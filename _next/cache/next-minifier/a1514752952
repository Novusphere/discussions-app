{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{mgrK:function(t,e,n){\"use strict\";n.r(e),n.d(e,\"meetoneWalletProvider\",function(){return d});var r,o,i,c=n(\"CSbn\"),u=function(){return(u=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},a=function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function c(t){try{a(r.next(t))}catch(e){i(e)}}function u(t){try{a(r.throw(t))}catch(e){i(e)}}function a(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(c,u)}a((r=r.apply(t,e||[])).next())})},s=function(t,e){var n,r,o,i,c={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},\"function\"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError(\"Generator is already executing.\");for(;c;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return c.label++,{value:i[1],done:!1};case 5:c.label++,r=i[1],i=[0];continue;case 7:i=c.ops.pop(),c.trys.pop();continue;default:if(!(o=(o=c.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){c=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){c.label=i[1];break}if(6===i[0]&&c.label<o[1]){c.label=o[1],o=i;break}if(o&&c.label<o[2]){c.label=o[2],c.ops.push(i);break}o[2]&&c.ops.pop(),c.trys.pop();continue}i=e.call(t,c)}catch(u){i=[6,u],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}};function l(t){return new Promise(function(t,e){t({keys:[],note:\"MEET.ONE does not support discovery\"})})}function f(t,e){return o.getArbitrarySignature(r,t,e)}function d(){return function(t){return{id:\"meetone_provider\",meta:{name:\"MEET.ONE Wallet\",shortName:\"M1\",description:\"MEET.ONE - The Portal to EOS Ecology.\"},signatureProvider:{getAvailableKeys:function(){return a(this,void 0,void 0,function(){return s(this,function(t){return[2,[r]]})})},sign:function(e){return a(this,void 0,void 0,function(){var n,r;return s(this,function(u){switch(u.label){case 0:return i?[3,2]:o.hookProvider?(n=new c.JsonRpc(t.protocol+\"://\"+t.host+\":\"+t.port),r=new c.Api({rpc:n}),[4,o.hookProvider(t,{},!0,r)]):[3,2];case 1:i=u.sent(),u.label=2;case 2:return[2,i.sign(e)]}})})}},connect:function(t){return new Promise(function(t,e){var n=0;!function r(){var i;return i=\"Checking the state of Scatter Object: \"+n+\" : \"+o,\"true\"===localStorage.getItem(\"DEBUG\")&&console.log(\"IN WALLET: \"+i),window.scatter&&navigator&&navigator.userAgent.toLowerCase().includes(\"meet.one\")?(o=window.scatter,t(!0)):++n>5?e(\"Cannot connect to MEET.ONE wallet provider\"):void setTimeout(function(){r()},1e3)}()})},discover:l,disconnect:function(){return o.disconnect(),Promise.resolve(!0)},login:function(e){return a(this,void 0,void 0,function(){var e,n,i;return s(this,function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),[4,o.getIdentity({accounts:[u({},t,{blockchain:\"eos\"})]})];case 1:return(e=c.sent())?(n=e&&e.accounts&&e.accounts.find(function(t){return\"eos\"===t.blockchain})||void 0)?(r=n.publicKey,[2,{accountName:n.name,permission:n.authority,publicKey:r}]):[2,Promise.reject(\"No account data obtained from Scatter identity\")]:[2,Promise.reject(\"No identity obtained from Scatter\")];case 2:return i=c.sent(),[2,Promise.reject(i)];case 3:return[2]}})})},logout:function(t){return o.forgetIdentity()},signArbitrary:f}}}void 0!==typeof window&&void 0!==typeof document&&(o=window.scatter,document.addEventListener(\"scatterLoaded\",function(){o=window.scatter})),e.default=d}}]);"}