{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{qQG1:function(n,e,t){\"use strict\";t.r(e),t.d(e,\"lynxWalletProvider\",function(){return l});var r,o,i=t(\"CSbn\"),u=function(n,e,t,r){return new(t||(t=Promise))(function(o,i){function u(n){try{a(r.next(n))}catch(e){i(e)}}function c(n){try{a(r.throw(n))}catch(e){i(e)}}function a(n){n.done?o(n.value):new t(function(e){e(n.value)}).then(u,c)}a((r=r.apply(n,e||[])).next())})},c=function(n,e){var t,r,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},\"function\"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(t)throw new TypeError(\"Generator is already executing.\");for(;u;)try{if(t=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,r=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(o=(o=u.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=e.call(n,u)}catch(c){i=[6,c],r=0}finally{t=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}};function a(n){\"true\"===localStorage.getItem(\"DEBUG\")&&console.log(\"IN WALLET: \"+n)}function s(n){return{getAvailableKeys:function(){return u(this,void 0,void 0,function(){return c(this,function(n){return a(\"In getAvailableKeys\"),a(\"Return Key: \"+r),[2,[r]]})})},sign:function(e){return u(this,void 0,void 0,function(){var t,r,u,s,l;return c(this,function(c){switch(c.label){case 0:return a(\"In Sign\"),t=new i.JsonRpc(n.protocol+\"://\"+n.host+\":\"+n.port),r={rpc:t,authorityProvider:void 0,abiProvider:void 0,signatureProvider:this,chainId:void 0,textEncoder:void 0,textDecoder:void 0},[4,new i.Api(r).deserializeTransactionWithActions(e.serializedTransaction)];case 1:return u=c.sent(),[4,o.requestSignature(u)];case 2:return a(\"signature: \"+(s=c.sent()).signatures[0]),l=[s.signatures[0]],[2,{signatures:l,serializedTransaction:e.serializedTransaction}]}})})}}}function l(){return function(n){return{id:\"EOS Lynx\",meta:{name:\"EOS Lynx\",shortName:\"EOS Lynx\",description:\"EOS Lynx Wallet\"},signatureProvider:s(n),connect:function(n){return a(\"In wallet connect\"),new Promise(function(n,e){var t=0;!function r(){return a(\"Checking the state of lynx Object: \"+t+\" : \"+o),o?n(!0):++t>5?e(\"Cannot connect to lynx wallet provider\"):void setTimeout(function(){r()},1e3)}()})},discover:function(n){return a(\"The discover() method of myWallet was called\"),new Promise(function(n,e){n({keys:[],note:\"Wallet does not support discovery\"})})},disconnect:function(){return Promise.resolve(!0)},login:function(n){return u(this,void 0,void 0,function(){var n,e,t,i;return c(this,function(u){switch(u.label){case 0:return a(\"The login method of myWallet was called\"),[4,o.requestSetAccountName()];case 1:if(a(n=u.sent()),!n)throw new Error(\"Account name was null\");return[4,o.requestSetAccount(n)];case 2:if(!(e=u.sent()))throw new Error(\"Account state was null\");return t=e.account.permissions.find(function(n){return\"active\"===n.perm_name}),i=t.required_auth.keys[0].key,r=i,a(i),[2,{accountName:n,permission:\"active\",publicKey:i}]}})})},logout:function(n){return function(){return u(this,void 0,void 0,function(){return c(this,function(n){return[2,!0]})})}()},signArbitrary:function(n,e){return o.requestArbitrarySignature({data:n,whatFor:e})}}}}void 0!==typeof window&&void 0!==typeof document&&(o=window.lynxMobile,window.addEventListener(\"lynxMobileLoaded\",function(){o=window.lynxMobile})),e.default=l}}]);"}