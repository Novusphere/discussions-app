{"ast":null,"code":"import _initializerDefineProperty from \"@babel/runtime/helpers/esm/initializerDefineProperty\";\nimport _applyDecoratedDescriptor from \"@babel/runtime/helpers/esm/applyDecoratedDescriptor\";\nimport _initializerWarningHelper from \"@babel/runtime/helpers/esm/initializerWarningHelper\";\n\nvar _class, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6, _descriptor7, _descriptor8, _descriptor9, _descriptor10, _descriptor11, _descriptor12, _descriptor13, _descriptor14, _descriptor15, _descriptor16, _descriptor17, _descriptor18, _descriptor19, _descriptor20, _temp;\n\nimport { computed, observable, set } from 'mobx';\nimport ecc from 'eosjs-ecc';\nimport { getIdenticon } from \"../utils\";\nlet PostModel = (_class = (_temp = class PostModel {\n  constructor(post) {\n    _initializerDefineProperty(this, \"map\", _descriptor, this);\n\n    _initializerDefineProperty(this, \"parentUuid\", _descriptor2, this);\n\n    _initializerDefineProperty(this, \"threadUuid\", _descriptor3, this);\n\n    _initializerDefineProperty(this, \"sub\", _descriptor4, this);\n\n    _initializerDefineProperty(this, \"uuid\", _descriptor5, this);\n\n    _initializerDefineProperty(this, \"title\", _descriptor6, this);\n\n    _initializerDefineProperty(this, \"poster\", _descriptor7, this);\n\n    _initializerDefineProperty(this, \"displayName\", _descriptor8, this);\n\n    _initializerDefineProperty(this, \"createdAt\", _descriptor9, this);\n\n    _initializerDefineProperty(this, \"myVote\", _descriptor10, this);\n\n    _initializerDefineProperty(this, \"upvotes\", _descriptor11, this);\n\n    _initializerDefineProperty(this, \"downvotes\", _descriptor12, this);\n\n    _initializerDefineProperty(this, \"attachment\", _descriptor13, this);\n\n    _initializerDefineProperty(this, \"replies\", _descriptor14, this);\n\n    _initializerDefineProperty(this, \"content\", _descriptor15, this);\n\n    _initializerDefineProperty(this, \"transaction\", _descriptor16, this);\n\n    _initializerDefineProperty(this, \"verifySig\", _descriptor17, this);\n\n    _initializerDefineProperty(this, \"sig\", _descriptor18, this);\n\n    _initializerDefineProperty(this, \"pub\", _descriptor19, this);\n\n    _initializerDefineProperty(this, \"imageData\", _descriptor20, this);\n\n    this.sign = privKey => {\n      this.pub = ecc.privateToPublic(privKey);\n      const hash0 = ecc.sha256(this.content);\n      const hash1 = ecc.sha256(this.uuid + hash0);\n      this.sig = ecc.sign(hash1, privKey);\n      this.verifySig = this.pub;\n      return this;\n    };\n\n    set(this, post);\n    let imageData = getIdenticon();\n\n    if (this.pub) {\n      imageData = getIdenticon(this.pub);\n    }\n\n    this.imageData = imageData;\n  }\n\n  get posterName() {\n    if (this.displayName) {\n      return this.displayName;\n    }\n\n    return this.poster;\n  }\n\n}, _temp), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"map\", [observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"parentUuid\", [observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor3 = _applyDecoratedDescriptor(_class.prototype, \"threadUuid\", [observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor4 = _applyDecoratedDescriptor(_class.prototype, \"sub\", [observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor5 = _applyDecoratedDescriptor(_class.prototype, \"uuid\", [observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor6 = _applyDecoratedDescriptor(_class.prototype, \"title\", [observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor7 = _applyDecoratedDescriptor(_class.prototype, \"poster\", [observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor8 = _applyDecoratedDescriptor(_class.prototype, \"displayName\", [observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor9 = _applyDecoratedDescriptor(_class.prototype, \"createdAt\", [observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor10 = _applyDecoratedDescriptor(_class.prototype, \"myVote\", [observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor11 = _applyDecoratedDescriptor(_class.prototype, \"upvotes\", [observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor12 = _applyDecoratedDescriptor(_class.prototype, \"downvotes\", [observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor13 = _applyDecoratedDescriptor(_class.prototype, \"attachment\", [observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor14 = _applyDecoratedDescriptor(_class.prototype, \"replies\", [observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor15 = _applyDecoratedDescriptor(_class.prototype, \"content\", [observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor16 = _applyDecoratedDescriptor(_class.prototype, \"transaction\", [observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor17 = _applyDecoratedDescriptor(_class.prototype, \"verifySig\", [observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor18 = _applyDecoratedDescriptor(_class.prototype, \"sig\", [observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor19 = _applyDecoratedDescriptor(_class.prototype, \"pub\", [observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor20 = _applyDecoratedDescriptor(_class.prototype, \"imageData\", [observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _applyDecoratedDescriptor(_class.prototype, \"posterName\", [computed], Object.getOwnPropertyDescriptor(_class.prototype, \"posterName\"), _class.prototype)), _class);\nexport default PostModel;","map":null,"metadata":{},"sourceType":"module"}