{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\n\nvar _dec, _class, _temp;\n\nvar __jsx = React.createElement;\nimport * as React from 'react';\nimport { Modal, ChooseAccountName, GenerateKey, VerifyKey } from \"../..\";\nimport { observer, inject } from 'mobx-react';\nimport { faSpinner } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nvar SignUpModal = (_dec = inject('newAuthStore', 'uiStore'), _dec(_class = observer(_class = (_temp =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(SignUpModal, _React$Component);\n\n  function SignUpModal() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, SignUpModal);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(SignUpModal)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      currentStep: 1\n    };\n\n    _this.goNext = function () {\n      _this.setState(function (prevState) {\n        return {\n          currentStep: prevState.currentStep + 1\n        };\n      });\n    };\n\n    _this.goBack = function () {\n      _this.setState(function (prevState) {\n        return {\n          currentStep: prevState.currentStep - 1\n        };\n      });\n    };\n\n    _this.setStep = function (step) {\n      _this.setState({\n        currentStep: step\n      });\n    };\n\n    _this.renderNextButtons = function (_ref) {\n      var signUpForm = _ref.signUpForm,\n          verifyBKForm = _ref.verifyBKForm;\n      var generateBrianKey = _this.props.newAuthStore.generateBrianKey;\n\n      var renderButton = function renderButton(text, color, onClick) {\n        var disabled = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n        var loading = onClick && onClick['state'] && onClick['pending'];\n        return __jsx(\"button\", {\n          disabled: onClick['pending'] || loading || disabled,\n          className: 'f6 link dim ph3 pv2 dib pointer white ' + color,\n          onClick: onClick\n        }, loading ? __jsx(FontAwesomeIcon, {\n          width: 13,\n          icon: faSpinner,\n          spin: true\n        }) : text);\n      };\n\n      switch (_this.state.currentStep) {\n        case 1:\n          return __jsx(React.Fragment, null, renderButton('Next', 'bg-green', function (e) {\n            signUpForm.onSubmit(e);\n\n            _this.goNext();\n          }, signUpForm.form.hasError));\n\n        case 2:\n          return __jsx(React.Fragment, null, renderButton('Previous', 'bg-blue', _this.goBack), renderButton('Next', 'bg-green', function () {\n            _this.goNext();\n          }, !generateBrianKey['result']));\n\n        case 3:\n          return __jsx(React.Fragment, null, renderButton('Previous', 'bg-blue', _this.goBack), renderButton('Finish', 'bg-red', function (e) {\n            verifyBKForm.onSubmit(e);\n          }, verifyBKForm.form.hasError));\n      }\n    };\n\n    return _this;\n  }\n\n  _createClass(SignUpModal, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {// this.setStep(1)\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      // const { generateBrianKey, setAccountAndPassword, verifyBKForm } = this.props.authStore\n      // const setAccountAndPasswordForm = setAccountAndPassword\n      // const verifyBKFormForm = verifyBKForm\n      var _this$props$newAuthSt = this.props.newAuthStore,\n          signUpForm = _this$props$newAuthSt.signUpForm,\n          verifyBKForm = _this$props$newAuthSt.verifyBKForm,\n          generateBrianKey = _this$props$newAuthSt.generateBrianKey;\n      var _signUpForm = signUpForm;\n      var _verifyBKForm = verifyBKForm;\n      return __jsx(Modal, null, function (_ref2) {\n        var CloseIcon = _ref2.CloseIcon;\n        return __jsx(React.Fragment, null, __jsx(\"div\", {\n          className: 'flex items-center justify-end'\n        }, __jsx(CloseIcon, null)), __jsx(\"div\", {\n          className: 'modal-body'\n        }, __jsx(ChooseAccountName, {\n          form: _signUpForm,\n          currentStep: _this2.state.currentStep,\n          onHeaderClick: function onHeaderClick() {\n            return null;\n          }\n        }), __jsx(GenerateKey, {\n          generateBrianKey: generateBrianKey,\n          currentStep: _this2.state.currentStep,\n          onHeaderClick: function onHeaderClick() {\n            return null;\n          }\n        }), __jsx(VerifyKey, {\n          form: _verifyBKForm,\n          currentStep: _this2.state.currentStep,\n          onHeaderClick: function onHeaderClick() {\n            return null;\n          }\n        })), __jsx(\"div\", {\n          className: 'modal-footer'\n        }, _this2.renderNextButtons({\n          signUpForm: _signUpForm,\n          verifyBKForm: _verifyBKForm\n        })));\n      });\n    }\n  }]);\n\n  return SignUpModal;\n}(React.Component), _temp)) || _class) || _class);\nexport default SignUpModal;","map":null,"metadata":{},"sourceType":"module"}